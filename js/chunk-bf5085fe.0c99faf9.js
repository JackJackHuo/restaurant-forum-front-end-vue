(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf5085fe"],{"50e5":function(e,t,c){"use strict";c("753c")},"753c":function(e,t,c){},"9cab":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a={class:"container py-5"},r=Object(n["g"])("h1",{class:"mt-5"}," 最新動態 ",-1),s=Object(n["g"])("hr",null,null,-1),b={class:"row"},u={class:"col-md-6"},i=Object(n["g"])("h3",null,"最新餐廳",-1),o={class:"col-md-6"},d=Object(n["g"])("h3",null,"最新評論",-1);function O(e,t,c,O,j,l){var f=Object(n["z"])("NavTabs"),m=Object(n["z"])("Spinner"),g=Object(n["z"])("NewestRestaurants"),v=Object(n["z"])("NewestComments");return Object(n["s"])(),Object(n["f"])("div",a,[Object(n["i"])(f),j.isLoading?(Object(n["s"])(),Object(n["d"])(m,{key:0})):(Object(n["s"])(),Object(n["f"])(n["a"],{key:1},[r,s,Object(n["g"])("div",b,[Object(n["g"])("div",u,[i,Object(n["i"])(g,{restaurants:j.restaurants},null,8,["restaurants"])]),Object(n["g"])("div",o,[d,Object(n["i"])(v,{comments:j.comments},null,8,["comments"])])])],64))])}var j=c("1da1"),l=(c("96cf"),c("4de4"),c("d3b7"),c("8bb1")),f=(c("b0c0"),c("a4d3"),c("e01a"),function(e){return Object(n["v"])("data-v-bda8960a"),e=e(),Object(n["t"])(),e}),m={class:"card"},g=f((function(){return Object(n["g"])("div",{class:"card-header"}," 最新餐廳 ",-1)})),v={class:"card-body"},h={href:"#"},p=f((function(){return Object(n["g"])("hr",null,null,-1)}));function w(e,t,c,a,r,s){return Object(n["s"])(),Object(n["f"])("div",m,[g,Object(n["g"])("div",v,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(c.restaurants,(function(t){return Object(n["s"])(),Object(n["f"])("div",{key:t.id},[Object(n["g"])("h4",null,[Object(n["g"])("a",h,Object(n["B"])(t.name),1),Object(n["g"])("small",null,Object(n["B"])(t.Category?t.Category.name:"未分類"),1)]),Object(n["g"])("p",null,Object(n["B"])(t.description),1),Object(n["h"])(Object(n["B"])(e.fromNow(t.createdAt))+" ",1),p])})),128))])])}var y=c("2708"),k={name:"NewestRestaurants",mixins:[y["b"]],props:{restaurants:{type:Array,required:!0}}},x=(c("50e5"),c("6b0d")),N=c.n(x);const B=N()(k,[["render",w],["__scopeId","data-v-bda8960a"]]);var R=B,L={class:"card"},z=Object(n["g"])("div",{class:"card-header"}," 最新評論 ",-1),A={class:"card-body"},C={href:"#"},F=Object(n["h"])("by "),T={href:"#"},q=Object(n["g"])("hr",null,null,-1);function I(e,t,c,a,r,s){return Object(n["s"])(),Object(n["f"])("div",L,[z,Object(n["g"])("div",A,[(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(c.comments,(function(t){return Object(n["s"])(),Object(n["f"])("div",{key:t.id},[Object(n["g"])("h4",null,[Object(n["g"])("a",C,Object(n["B"])(t.Restaurant.name),1)]),Object(n["g"])("p",null,Object(n["B"])(t.text),1),F,Object(n["g"])("a",T,Object(n["B"])(t.User.name),1),Object(n["h"])(" at "+Object(n["B"])(e.fromNow(t.createdAt))+" ",1),q])})),128))])])}var J={mixins:[y["b"]],props:{comments:{type:Array,required:!0}}};const S=N()(J,[["render",I]]);var _=S,E=c("2375"),K=c("c4c3"),U=c("2fa3"),D={name:"RestaurantsFeeds",components:{NavTabs:l["a"],NewestRestaurants:R,NewestComments:_,Spinner:E["a"]},data:function(){return{restaurants:[],comments:[],isLoading:!0}},created:function(){this.fetchFeeds()},methods:{fetchFeeds:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){var c,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,K["a"].getFeeds();case 4:if(c=t.sent,"OK"===c.statusText){t.next=7;break}throw new Error;case 7:n=c.data,a=n.restaurants,r=n.comments,e.restaurants=a,e.comments=r.filter((function(e){return e.RestaurantId&&e.text})),e.isLoading=!1,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](0),e.isLoading=!1,U["a"].fire({icon:"error",title:"無法取得餐廳資料，請稍後再試"});case 17:case"end":return t.stop()}}),t,null,[[0,13]])})))()}}};const G=N()(D,[["render",O]]);t["default"]=G}}]);
//# sourceMappingURL=chunk-bf5085fe.0c99faf9.js.map