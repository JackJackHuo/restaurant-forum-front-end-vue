{"version":3,"sources":["webpack:///./src/apis/admin.js","webpack:///./src/views/AdminRestaurant.vue","webpack:///./src/views/AdminRestaurant.vue?47ab"],"names":["categories","get","apiHelper","create","name","post","delete","categoryId","update","put","users","userId","isAdmin","restaurants","formData","restaurantId","getDetail","class","isLoading","restaurant","categoryName","src","emptyImage","image","style","openingHours","tel","address","description","type","$router","back","components","Spinner","mixins","data","id","beforeRouteUpdate","to","from","next","params","this","fetchRestaurant","mounted","$route","methods","admin","opening_hours","CategoryId","fire","icon","title","__exports__","render"],"mappings":"0IAEe,QACbA,WAAY,CACVC,IADU,WAER,OAAOC,OAAUD,IAAI,sBAEvBE,OAJU,YAIK,IAAPC,EAAO,EAAPA,KACN,OAAOF,OAAUG,KAAK,oBAAsB,CAAED,UAEhDE,OAPU,SAOHC,GACL,OAAOL,OAAUI,OAAV,4BAAsCC,KAE/CC,OAVU,YAUmB,IAApBD,EAAoB,EAApBA,WAAaH,EAAO,EAAPA,KACpB,OAAOF,OAAUO,IAAV,4BAAmCF,GAAe,CAAEH,WAG/DM,MAAM,CACJT,IADI,WAEF,OAAOC,OAAUD,IAAI,iBAEvBO,OAJI,YAIwB,IAAnBG,EAAmB,EAAnBA,OAAQC,EAAW,EAAXA,QACf,OAAOV,OAAUO,IAAV,uBAA8BE,GAAS,CAAEC,cAGpDC,YAAa,CACXV,OADW,YACU,IAAZW,EAAY,EAAZA,SACP,OAAOZ,OAAUG,KAAK,qBAAuBS,IAE/Cb,IAJW,WAKT,OAAOC,OAAUD,IAAI,uBAEvBK,OAPW,SAOJS,GACL,OAAOb,OAAUI,OAAV,6BAAuCS,KAEhDC,UAVW,SAUDD,GACR,OAAOb,OAAUD,IAAV,6BAAoCc,KAE7CP,OAbW,YAawB,IAA1BO,EAA0B,EAA1BA,aAAcD,EAAY,EAAZA,SACrB,OAAOZ,OAAUO,IAAV,6BAAoCM,GAAiBD,O,0FCtC3DG,MAAM,kB,SAIPA,MAAM,O,GAEDA,MAAM,a,GAEHA,MAAM,mC,GAITA,MAAM,Y,aAMJA,MAAM,Q,GACLA,MAAM,iB,EAEN,eAA8B,cAAtB,iBAAa,G,EAIrB,eAAqB,cAAb,QAAI,G,EAIZ,eAAyB,cAAjB,YAAQ,G,GAMnBA,MAAM,Y,EAIb,eAAM,mB,gFAvCR,eA2CM,MA3CN,EA2CM,CA1CW,EAAAC,W,iBAAf,eAA4B,a,iBAC5B,eAoCM,MApCN,EAoCM,CAhCJ,eAKM,MALN,EAKM,CAJJ,eAA8B,yBAAvB,EAAAC,WAAWf,MAAI,GACtB,eAEO,OAFP,EAEO,eADF,EAAAe,WAAWC,cAAY,KAG9B,eAsBM,MAtBN,EAsBM,CArBJ,eAIE,OAHAH,MAAM,8BACLI,IAAK,EAAAC,WAAW,EAAAH,WAAWI,OAC5BC,MAAA,wC,UAEF,eAeM,MAfN,EAeM,CAdJ,eAaK,KAbL,EAaK,CAZH,eAGK,WAFH,E,eAA8B,IAC9B,eAAG,EAAAL,WAAWM,cAAY,KAE5B,eAGK,WAFH,E,eAAqB,IACrB,eAAG,EAAAN,WAAWO,KAAG,KAEnB,eAGK,WAFH,E,eAAyB,IACzB,eAAG,EAAAP,WAAWQ,SAAO,WAK7B,eAEM,MAFN,EAEM,CADJ,eAAmC,wBAA7B,EAAAR,WAAWS,aAAW,QAGhC,EACA,eAES,UAFDC,KAAK,SAASZ,MAAM,eAAgB,QAAK,+BAAE,EAAAa,QAAQC,UAAQ,Y,wFAWxD,GACb3B,KAAM,kBACN4B,WAAW,CACTC,UAAA,MAEFC,OAAQ,CAAC,QACTC,KANa,WAOX,MAAO,CACLhB,WAAY,CACViB,IAAK,EACLhC,KAAM,GACNgB,aAAc,GACdG,MAAO,GACPE,aAAc,GACdC,IAAK,GACLC,QAAS,GACTC,YAAa,IAEfV,WAAU,IAIdmB,kBAtBa,SAsBKC,EAAKC,EAAOC,GAC5B,IAAYzB,EAAiBuB,EAAGG,OAAxBL,GACRM,KAAKC,gBAAgB5B,GACrByB,KAEFI,QA3Ba,WA4BX,IAAY7B,EAAiB2B,KAAKG,OAAOJ,OAAjCL,GACRM,KAAKC,gBAAgB5B,IAEvB+B,QAAS,CACDH,gBADC,SACe5B,GAAc,yLAClC,EAAKG,WAAY,EADiB,kBAGT6B,EAAA,KAASlC,YAAYG,UAAUD,GAHtB,gBAGxBoB,EAHwB,EAGxBA,KAHwB,EAa5BA,EAAKhB,WARPiB,EAL8B,EAK9BA,GACAhC,EAN8B,EAM9BA,KACAsB,EAP8B,EAO9BA,IACAC,EAR8B,EAQ9BA,QACeF,EATe,EAS9BuB,cACApB,EAV8B,EAU9BA,YACAL,EAX8B,EAW9BA,MACYhB,EAZkB,EAY9B0C,WAEF,EAAK9B,WAAL,iCACK,EAAKA,YADV,IAEEiB,KACAhC,OACAsB,MACAC,UACAF,eACAG,cACAL,QACAhB,eAEF,EAAKW,WAAY,EAzBe,qDA2BhC,EAAKA,WAAY,EACjB,OAAMgC,KAAK,CACTC,KAAM,QACNC,MAAO,mBA9BuB,+D,qBC/ExC,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/chunk-be2cb5d8.13b566b7.js","sourcesContent":["import { apiHelper } from \"../utils/helpers\";\r\n\r\nexport default {\r\n  categories: {\r\n    get() {\r\n      return apiHelper.get('/admin/categories')\r\n    },\r\n    create({name}) {\r\n      return apiHelper.post('/admin/categories' , { name })\r\n    },\r\n    delete(categoryId) {\r\n      return apiHelper.delete(`/admin/categories/${categoryId}`)\r\n    },\r\n    update({ categoryId , name }){\r\n      return apiHelper.put(`/admin/categories/${categoryId}` , { name })\r\n    }\r\n  },\r\n  users:{\r\n    get(){\r\n      return apiHelper.get('/admin/users')\r\n    },\r\n    update({ userId, isAdmin }) {\r\n      return apiHelper.put(`/admin/users/${userId}`,{ isAdmin })\r\n    }\r\n  },\r\n  restaurants: {\r\n    create({ formData }) {\r\n      return apiHelper.post('/admin/restaurants' , formData)\r\n    },\r\n    get(){\r\n      return apiHelper.get('/admin/restaurants')\r\n    },\r\n    delete(restaurantId){\r\n      return apiHelper.delete(`/admin/restaurants/${restaurantId}`)\r\n    },\r\n    getDetail(restaurantId) {\r\n      return apiHelper.get(`/admin/restaurants/${restaurantId}`)\r\n    },\r\n    update({ restaurantId, formData }) {\r\n      return apiHelper.put(`/admin/restaurants/${restaurantId}` , formData)\r\n    }\r\n  }\r\n}","<template>\r\n  <div class=\"container py-5\">\r\n    <Spinner v-if=\"isLoading\" />\r\n    <div\r\n      v-else \r\n      class=\"row\"\r\n    >\r\n      <div class=\"col-md-12\">\r\n        <h1>{{ restaurant.name }}</h1>\r\n        <span class=\"badge badge-secondary mt-1 mb-3\">\r\n          {{ restaurant.categoryName }}\r\n        </span>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <img\r\n          class=\"img-responsive center-block\"\r\n          :src=\"emptyImage(restaurant.image)\"\r\n          style=\"width: 250px; margin-bottom: 25px\"\r\n        />\r\n        <div class=\"well\">\r\n          <ul class=\"list-unstyled\">\r\n            <li>\r\n              <strong>Opening Hour:</strong>\r\n              {{ restaurant.openingHours }}\r\n            </li>\r\n            <li>\r\n              <strong>Tel:</strong>\r\n              {{ restaurant.tel }}\r\n            </li>\r\n            <li>\r\n              <strong>Address:</strong>\r\n              {{ restaurant.address }}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <p>{{ restaurant.description }}</p>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <button type=\"button\" class=\"btn btn-link\" @click=\"$router.back()\">\r\n      回上一頁\r\n    </button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport Spinner from './../components/Spinner.vue'\r\nimport { emptyImageFilter } from \"./../utils/mixins\";\r\nimport adminAPI from './../apis/admin'\r\nimport { Toast } from './../utils/helpers'\r\n\r\nexport default {\r\n  name: \"AdminRestaurant\",\r\n  components:{\r\n    Spinner\r\n  },\r\n  mixins: [emptyImageFilter],\r\n  data() {\r\n    return {\r\n      restaurant: {\r\n        id: -1,\r\n        name: \"\",\r\n        categoryName: \"\",\r\n        image: \"\",\r\n        openingHours: \"\",\r\n        tel: \"\",\r\n        address: \"\",\r\n        description: \"\",\r\n      },\r\n      isLoading:true\r\n    };\r\n  },\r\n  // 追蹤此組件路由變化\r\n  beforeRouteUpdate(to , from , next ) {\r\n    const { id: restaurantId } = to.params\r\n    this.fetchRestaurant(restaurantId)\r\n    next()\r\n  },\r\n  mounted() {\r\n    const { id: restaurantId } = this.$route.params;\r\n    this.fetchRestaurant(restaurantId);\r\n  },\r\n  methods: {\r\n    async fetchRestaurant(restaurantId) {\r\n      this.isLoading = true\r\n      try{\r\n        const { data } = await adminAPI.restaurants.getDetail(restaurantId)\r\n        const {\r\n          id,\r\n          name,\r\n          tel,\r\n          address,\r\n          opening_hours: openingHours,\r\n          description,\r\n          image,\r\n          CategoryId: categoryId\r\n        } = data.restaurant\r\n        this.restaurant = {\r\n          ...this.restaurant,\r\n          id,\r\n          name,\r\n          tel,\r\n          address,\r\n          openingHours,\r\n          description,\r\n          image,\r\n          categoryId\r\n        }\r\n        this.isLoading = false\r\n      }catch(error) {\r\n        this.isLoading = false\r\n        Toast.fire({\r\n          icon: 'error',\r\n          title: '無法取得餐廳資料，請稍後再試'\r\n        })\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>","import { render } from \"./AdminRestaurant.vue?vue&type=template&id=054f1eca\"\nimport script from \"./AdminRestaurant.vue?vue&type=script&lang=js\"\nexport * from \"./AdminRestaurant.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\JackHuo\\\\WebDevelopment\\\\Project\\\\Vue\\\\forum-front-end-vue\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}