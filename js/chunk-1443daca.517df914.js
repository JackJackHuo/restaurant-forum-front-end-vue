(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1443daca"],{"00b4":function(e,t,r){"use strict";r("ac1f");var n=r("23e7"),a=r("da84"),c=r("c65b"),o=r("e330"),i=r("1626"),s=r("861d"),u=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),d=a.Error,l=o(/./.test);n({target:"RegExp",proto:!0,forced:!u},{test:function(e){var t=this.exec;if(!i(t))return l(this,e);var r=c(t,this,e);if(null!==r&&!s(r))throw new d("RegExp exec method returned something other than an Object or null");return!!r}})},"107c":function(e,t,r){var n=r("d039"),a=r("da84"),c=a.RegExp;e.exports=n((function(){var e=c("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},"4df4":function(e,t,r){"use strict";var n=r("da84"),a=r("0366"),c=r("c65b"),o=r("7b0b"),i=r("9bdd"),s=r("e95a"),u=r("68ee"),d=r("07fa"),l=r("8418"),f=r("9a1f"),b=r("35a1"),v=n.Array;e.exports=function(e){var t=o(e),r=u(this),n=arguments.length,p=n>1?arguments[1]:void 0,g=void 0!==p;g&&(p=a(p,n>2?arguments[2]:void 0));var h,x,m,O,j,y,w=b(t),R=0;if(!w||this==v&&s(w))for(h=d(t),x=r?new this(h):v(h);h>R;R++)y=g?p(t[R],R):t[R],l(x,R,y);else for(O=f(t,w),j=O.next,x=r?new this:[];!(m=c(j,O)).done;R++)y=g?i(O,p,[m.value,R],!0):m.value,l(x,R,y);return x.length=R,x}},"571a":function(e,t,r){"use strict";r.r(t);r("b0c0"),r("a4d3"),r("e01a");var n=r("7a23"),a={class:"container py-5"},c=Object(n["g"])("h1",{class:"mt-5"}," 人氣餐廳 ",-1),o=Object(n["g"])("hr",null,null,-1),i={class:"row no-gutters"},s={class:"col-md-4"},u={href:"#"},d=["src"],l={class:"col-md-8"},f={class:"card-body"},b={class:"card-title"},v={class:"badge badge-secondary"},p={class:"card-text"},g=Object(n["g"])("a",{href:"#",class:"btn btn-primary mr-2"},"Show",-1),h=["onClick"],x=["onClick"];function m(e,t,r,m,O,j){var y=Object(n["z"])("NavTabs"),w=Object(n["z"])("Spinner");return Object(n["s"])(),Object(n["f"])("div",a,[Object(n["i"])(y),O.isLoading?(Object(n["s"])(),Object(n["d"])(w,{key:0})):(Object(n["s"])(),Object(n["f"])(n["a"],{key:1},[c,o,(Object(n["s"])(!0),Object(n["f"])(n["a"],null,Object(n["y"])(O.restaurants,(function(e){return Object(n["s"])(),Object(n["f"])("div",{key:e.id,class:"card mb-3",style:{"max-width":"540px",margin:"auto"}},[Object(n["g"])("div",i,[Object(n["g"])("div",s,[Object(n["g"])("a",u,[Object(n["g"])("img",{class:"card-img",src:e.image},null,8,d)])]),Object(n["g"])("div",l,[Object(n["g"])("div",f,[Object(n["g"])("h5",b,Object(n["B"])(e.name),1),Object(n["g"])("span",v,"收藏數："+Object(n["B"])(e.FavoriteCount),1),Object(n["g"])("p",p,Object(n["B"])(e.description),1),g,e.isFavorited?(Object(n["s"])(),Object(n["f"])("button",{key:0,type:"button",class:"btn btn-danger mr-2",onClick:Object(n["J"])((function(t){return j.removeFavorite(e.id)}),["stop","prevent"])}," 移除最愛 ",8,h)):(Object(n["s"])(),Object(n["f"])("button",{key:1,type:"button",class:"btn btn-primary",onClick:Object(n["J"])((function(t){return j.addFavorite(e.id)}),["stop","prevent"])}," 加到最愛 ",8,x))])])])])})),128))],64))])}var O=r("5530");function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e){if(Array.isArray(e))return j(e)}r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function w(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r("fb6a"),r("ac1f"),r("00b4");function R(e,t){if(e){if("string"===typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e){return y(e)||w(e)||R(e)||k()}var I=r("1da1"),A=(r("d81d"),r("96cf"),r("8bb1")),F=r("2375"),C=r("c4c3"),S=r("1602"),T=r("2fa3"),N={components:{NavTabs:A["a"],Spinner:F["a"]},data:function(){return{restaurants:[],isLoading:!0}},created:function(){this.fetchTopRestaurants()},methods:{fetchTopRestaurants:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,C["a"].getTopRestaurants();case 4:r=t.sent,n=r.data,e.restaurants=E(n.restaurants),e.isLoading=!1,t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),e.isLoading=!1,T["a"].fire({icon:"error",title:"無法取得人氣餐廳資料，請稍後再試"});case 14:case"end":return t.stop()}}),t,null,[[1,10]])})))()},addFavorite:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,S["a"].addFavorite(e);case 3:if(n=r.sent,a=n.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.restaurants=t.restaurants.map((function(t){return t.id!==e?t:Object(O["a"])(Object(O["a"])({},t),{},{FavoriteCount:t.FavoriteCount+1,isFavorited:!0})})),T["a"].fire({icon:"success",title:"成功將餐廳加入最愛清單"}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),T["a"].fire({icon:"error",title:"無法將餐廳加入最愛清單，請稍後再試"}),console.log("error",r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()},removeFavorite:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,S["a"].deleteFavorite(e);case 3:if(n=r.sent,a=n.data,"success"===a.status){r.next=7;break}throw new Error(a.message);case 7:t.restaurants=t.restaurants.map((function(t){return t.id!==e?t:Object(O["a"])(Object(O["a"])({},t),{},{FavoriteCount:t.FavoriteCount-1,isFavorited:!1})})),T["a"].fire({icon:"success",title:"成功將餐廳移除最愛清單"}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),T["a"].fire({icon:"error",title:"無法將餐廳移除最愛清單，請稍後再試"}),console.log("error",r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))()}}},B=r("6b0d"),L=r.n(B);const U=L()(N,[["render",m]]);t["default"]=U},9263:function(e,t,r){"use strict";var n=r("c65b"),a=r("e330"),c=r("577e"),o=r("ad6d"),i=r("9f7f"),s=r("5692"),u=r("7c73"),d=r("69f3").get,l=r("fce3"),f=r("107c"),b=s("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,p=v,g=a("".charAt),h=a("".indexOf),x=a("".replace),m=a("".slice),O=function(){var e=/a/,t=/b*/g;return n(v,e,"a"),n(v,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),j=i.UNSUPPORTED_Y||i.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],w=O||y||j||l||f;w&&(p=function(e){var t,r,a,i,s,l,f,w=this,R=d(w),k=c(e),E=R.raw;if(E)return E.lastIndex=w.lastIndex,t=n(p,E,k),w.lastIndex=E.lastIndex,t;var I=R.groups,A=j&&w.sticky,F=n(o,w),C=w.source,S=0,T=k;if(A&&(F=x(F,"y",""),-1===h(F,"g")&&(F+="g"),T=m(k,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&"\n"!==g(k,w.lastIndex-1))&&(C="(?: "+C+")",T=" "+T,S++),r=new RegExp("^(?:"+C+")",F)),y&&(r=new RegExp("^"+C+"$(?!\\s)",F)),O&&(a=w.lastIndex),i=n(v,A?r:w,T),A?i?(i.input=m(i.input,S),i[0]=m(i[0],S),i.index=w.lastIndex,w.lastIndex+=i[0].length):w.lastIndex=0:O&&i&&(w.lastIndex=w.global?i.index+i[0].length:a),y&&i&&i.length>1&&n(b,i[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)})),i&&I)for(i.groups=l=u(null),s=0;s<I.length;s++)f=I[s],l[f[0]]=i[f[1]];return i}),e.exports=p},"9bdd":function(e,t,r){var n=r("825a"),a=r("2a62");e.exports=function(e,t,r,c){try{return c?t(n(r)[0],r[1]):t(r)}catch(o){a(e,"throw",o)}}},"9f7f":function(e,t,r){var n=r("d039"),a=r("da84"),c=a.RegExp;t.UNSUPPORTED_Y=n((function(){var e=c("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=c("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a630:function(e,t,r){var n=r("23e7"),a=r("4df4"),c=r("1c7e"),o=!c((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:o},{from:a})},ac1f:function(e,t,r){"use strict";var n=r("23e7"),a=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},d28b:function(e,t,r){var n=r("746f");n("iterator")},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,c=r("1dde"),o=c("map");n({target:"Array",proto:!0,forced:!o},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(e,t,r){"use strict";var n=r("23e7"),a=r("da84"),c=r("e8b5"),o=r("68ee"),i=r("861d"),s=r("23cb"),u=r("07fa"),d=r("fc6a"),l=r("8418"),f=r("b622"),b=r("1dde"),v=r("f36a"),p=b("slice"),g=f("species"),h=a.Array,x=Math.max;n({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var r,n,a,f=d(this),b=u(f),p=s(e,b),m=s(void 0===t?b:t,b);if(c(f)&&(r=f.constructor,o(r)&&(r===h||c(r.prototype))?r=void 0:i(r)&&(r=r[g],null===r&&(r=void 0)),r===h||void 0===r))return v(f,p,m);for(n=new(void 0===r?h:r)(x(m-p,0)),a=0;p<m;p++,a++)p in f&&l(n,a,f[p]);return n.length=a,n}})},fce3:function(e,t,r){var n=r("d039"),a=r("da84"),c=a.RegExp;e.exports=n((function(){var e=c(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))}}]);
//# sourceMappingURL=chunk-1443daca.517df914.js.map